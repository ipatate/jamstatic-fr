{{ define "title" }}
  {{ .Site.Title }}, {{ lower .Site.Params.Description }}
{{ end }}

{{ define "main" }}
  <main>
    <div id="search-searchbar"></div>
    <ul id="search-hits">
      {{ range .Site.RegularPages }}
        <li class="p-4 my-6 transition duration-300 transform bg-blue-100 bg-opacity-50 rounded-lg hover:scale-105 dark:bg-gray-800">
          
          <div class="mb-2">
            <div class="flex items-center">
              {{- if .Params.author }}
              <img class="w-8 h-8 mr-2 rounded-full" src="https://github.com/{{ (index .Site.Data.authors .Params.author).github }}.png" />

              {{- if isset (index .Site.Data.authors .Params.author) "web" }}
                <a
                  class="text-base no-underline capitalize transition duration-200 text-black-grape-400 dark:text-blue-500 hover:underline hover:text-violet-light dark:hover:text-blue-300"
                  rel="author"
                  href="{{ (index .Site.Data.authors .Params.author).web }}"
                  >{{ (index .Site.Data.authors .Params.author).name }}</a
                >
                {{ else }}
                <a
                  class="text-base no-underline capitalize transition duration-200 text-black-grape-400 dark:text-blue-500 hover:underline hover:text-violet-light dark:hover:text-blue-300"
                  rel="author"
                  href="https://github.com/{{ (index .Site.Data.authors .Params.author).github }}"
                  >{{ (index .Site.Data.authors .Params.author).name }}</a
                >
              {{ end -}}
            {{ end -}}
            </div>          
          </div>
            <h2
              class="mb-2 text-3xl font-black transition duration-200 font-display text-violet dark:text-blue-500 hover:underline hover:text-blue-300 xl:leading-snug"
            >
            <a href="{{ .RelPermalink }}">{{ partial "content.html" .Title . }}</a>
            </h2>
            <p class="mb-4 text-2xl text-gray-600 dark:text-gray-300">
              <a href="{{ .RelPermalink }}">{{ partial "content.html" .Description }}</a>
            </p>
            <div class="flex items-center space-x-1 text-sm text-black-grape-200 dark:text-blue-500">
            <span>
              <time
              class="capitalize"
              datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" | safeHTML }}"
              itemprop="datePublished"
              >
              {{- $mymonths := .Site.Data.mois }}
              {{- .Date.Day }} {{ index $mymonths (printf "%d" .Date.Month) }}
              {{ .Date.Year -}}
              </time>
            </span>
            <span class="inline">&middot;</span>
            <svg class="inline w-4 h-4 mr-1" xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor">
            <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M12 8v4l3 3m6-3a9 9 0 11-18 0 9 9 0 0118 0z" />
            </svg> 
            <span>Lecture {{ .ReadingTime }} min.</span>
          </div>
        </li>
        {{/*  <hr class="border-gray-200 dark:border-gray-800">  */}}
      {{ end }}
    </ul>
  </main>
{{ end }}
