{{- define "main" }}
  <article
    class="mx-auto prose sm:prose-lg lg:prose-xl dark:prose-dark"
    itemscope
    itemtype="https://schema.org/BlogPosting"
  >
    <header class="my-8">
      <h1
        class="text-4xl font-bold font-display text-violet dark:text-violet-light xl:leading-snug"
        itemprop="name headline"
      >
        {{- partial "content.html" .Title -}}
      </h1>
      <p class="mb-0 -mt-6 text-base text-gray-400">
        <time
          class="capitalize"
          datetime="{{ .Date.Format "2006-01-02T15:04:05Z07:00" | safeHTML }}"
          itemprop="datePublished"
        >
          {{- $mymonths := .Site.Data.mois }}
          {{- .Date.Day }} {{ index $mymonths (printf "%d" .Date.Month) }}
          {{ .Date.Year -}}
        </time>
        {{- if isset .Params "categories" }}
          •
          {{ range $index, $category := .Params.categories }}
            {{ if $index }}, {{ end }}
            <a
              class="no-underline capitalize transition duration-200 text-violet dark:text-violet-light hover:underline hover:text-violet-light dark:hover:text-violet-indigo-600"
              href="{{ "categories/" | relURL }}{{ . | urlize }}"
              >{{ . }}</a
            >{{ end }}

        {{- end }}
        • <span aria-label="Temps de lecture">{{ .ReadingTime }} min</span> •
        <span itemprop="author" itemscope itemtype="https://schema.org/Person">
          <span itemprop="name">
            {{- if .Params.author }}
              {{- if isset (index .Site.Data.authors .Params.author) "web" }}
                <a
                  class="no-underline capitalize transition duration-200 text-violet dark:text-violet-light hover:underline hover:text-violet-light dark:hover:text-violet-indigo-600"
                  rel="author"
                  href="{{ (index .Site.Data.authors .Params.author).web }}"
                  >{{ (index .Site.Data.authors .Params.author).name }}</a
                >
                {{ else }}
                <a
                  class="no-underline capitalize transition duration-200 text-violet dark:text-violet-light hover:underline hover:text-violet-light dark:hover:text-violet-indigo-600"
                  rel="author"
                  href="https://github.com/{{ (index .Site.Data.authors .Params.author).github }}"
                  >{{ (index .Site.Data.authors .Params.author).name }}</a
                >
              {{ end -}}
              {{ else }}
              <a
                class="no-underline capitalize transition duration-200 text-violet dark:text-violet-light hover:underline hover:text-violet-light dark:hover:text-violet-indigo-600"
                rel="author"
                href="{{ .Site.Data.authors.frank.web }}"
                >{{ .Site.Data.authors.frank.name }}</a
              >
            {{ end -}}
          </span>
        </span>
      </p>
    </header>
    
    <div class="font-body" itemprop="articleBody">
      {{- with .Params.Source }}
        {{- if and .url .title .author }}
          <p class="text-base italic text-right text-gray-400">
            Source :
            <a
              class="no-underline font-display text-rose hover:underline"
              href="{{ .url }}"
              >{{ .title }}</a
            >
            de
            {{ .author }}
          </p>
        {{- end }}
      {{- end }}

      <hr class="dark:border-gray-800">

      {{ if .Params.excerpt }}
      <div class="text-2xl text-gray-700 dark:text-gray-300 lead font-display">
        {{ .Params.Excerpt | markdownify }}
      </div>
      <hr class="dark:border-gray-800">
      {{ end }}

      {{- partial "content.html" .Content -}}

      <footer>
        {{- partial "page-edit" . }}

        {{- partial "related" . }}
      </footer>
    </div>
  </article>
{{- end }}
